<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>com.github.yan.switch2trae</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-name -->
    <name>Switch2Trae</name>
    
    <!-- Plugin version -->
    <version>1.0.0</version>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="switch2trae@example.com" url="https://github.com/yan/switch2trae">Switch2Trae Team</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-description -->
    <description><![CDATA[
Switch2Trae enables effortless switching between JetBrains IDEs and Trae IDE while maintaining your workflow context.

    <h3>ğŸš€ Seamless IDE Integration with Trae</h3>
    
    <h4>âœ¨ Key Features:</h4>
    <ul>
        <li><strong>ğŸ¯ Smart Context Switching</strong> - Open current project or file in Trae IDE with a single keystroke</li>
        <li><strong>ğŸ“ Cursor Position Sync</strong> - Automatically positions cursor at the exact line and column</li>
        <li><strong>âŒ¨ï¸ Keyboard Shortcuts</strong> - Quick access via Alt+Shift+P (project) and Alt+Shift+O (file)</li>
        <li><strong>ğŸ”§ Flexible Configuration</strong> - Support for multiple Trae command-line formats</li>
        <li><strong>ğŸ¨ Context Menu Integration</strong> - Right-click to switch directly from editor or project tree</li>
        <li><strong>ğŸ› ï¸ Error Handling</strong> - Intelligent error detection with helpful troubleshooting guidance</li>
    </ul>
    
    <h4>ğŸ® Usage:</h4>
    <ul>
        <li>Use <code>Alt+Shift+P</code> to open current project in Trae</li>
        <li>Use <code>Alt+Shift+O</code> to open current file in Trae</li>
        <li>Right-click in editor or project tree for context menu options</li>
        <li>Configure Trae executable path in Settings â†’ Tools â†’ Switch2Trae</li>
    </ul>
    
    <h4>ğŸ”§ Supported Command Formats:</h4>
    <ul>
        <li><code>file:line:column</code> (VS Code style)</li>
        <li><code>--goto line:column file</code> (Vim style)</li>
        <li><code>-g file:line:column</code> (Emacs style)</li>
        <li><code>file +line:column</code> (Nano style)</li>
    </ul>
    
    <p><strong>Perfect for developers who want to leverage the best of both JetBrains and Trae ecosystems!</strong></p>
  ]]></description>

    <change-notes><![CDATA[
    <h3>v1.0.0 - Initial Release ğŸ‰</h3>
    <ul>
        <li>âœ¨ <strong>Project Switching</strong> - Open entire projects in Trae IDE</li>
        <li>ğŸ“„ <strong>File Switching</strong> - Open individual files with cursor positioning</li>
        <li>âŒ¨ï¸ <strong>Keyboard Shortcuts</strong> - Alt+Shift+P and Alt+Shift+O for quick access</li>
        <li>ğŸ¨ <strong>Context Menu</strong> - Right-click integration in editor and project tree</li>
        <li>ğŸ”§ <strong>Flexible Configuration</strong> - Multiple command-line format support</li>
        <li>ğŸ› ï¸ <strong>Smart Error Handling</strong> - Helpful troubleshooting dialogs</li>
        <li>ğŸ“ <strong>Cursor Sync</strong> - Maintains exact cursor position across IDEs</li>
    </ul>
  ]]></change-notes>

    <!-- Compatibility -->
    <idea-version since-build="251" until-build="251.*"/>
    
    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <!-- Settings configurable -->
        <projectConfigurable 
            parentId="tools" 
            instance="com.github.yan.switch2trae.Switch2TraeConfigurable" 
            id="com.github.yan.switch2trae.configurable" 
            displayName="Switch2Trae"/>
        
        <!-- Project service -->
        <projectService serviceImplementation="com.github.yan.switch2trae.Switch2TraeSettings"/>
    </extensions>

    <!-- Actions -->
    <actions>
        <!-- Main action group -->
        <group id="Switch2TraeGroup" text="Switch2Trae" description="Switch to Trae actions">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            
            <!-- Open Project in Trae -->
            <action id="Switch2Trae.OpenProject" 
                    class="com.github.yan.switch2trae.OpenProjectInTraeAction" 
                    text="Open Project in Trae" 
                    description="Open current project in Trae">
                <keyboard-shortcut keymap="$default" first-keystroke="alt shift P"/>
            </action>
            
            <!-- Open File in Trae -->
            <action id="Switch2Trae.OpenFile" 
                    class="com.github.yan.switch2trae.OpenFileInTraeAction" 
                    text="Open File in Trae" 
                    description="Open current file in Trae">
                <keyboard-shortcut keymap="$default" first-keystroke="alt shift O"/>
                <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            </action>
        </group>
        
        <!-- Project view context menu -->
        <action id="Switch2Trae.OpenProjectContext" 
                class="com.github.yan.switch2trae.OpenProjectInTraeAction" 
                text="Open Project in Trae" 
                description="Open project in Trae">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
        </action>
        
        <!-- File context menu -->
        <action id="Switch2Trae.OpenFileContext" 
                class="com.github.yan.switch2trae.OpenFileInTraeAction" 
                text="Open File in Trae" 
                description="Open file in Trae">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>